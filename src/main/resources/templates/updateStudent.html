<!DOCTYPE html>
<!DOCTYPE html>
<html lang="ja" xmlns:th="http://www.thymeleaf.org">
<head>
  <meta charset="UTF-8">
  <title>受講生更新フォーム</title>
</head>
<body>
<h2>受講生更新フォーム</h2>

<form th:action="@{/updateStudent}" th:object="${studentDetail}" method="post">

  <h3>受講生情報</h3>
  <input type="hidden" th:field="*{student.publicId}"/>
  <table>
    <thead>
    <tr>
      <th>項目</th>
      <th>登録情報</th>
      <th>修正内容</th>
    </tr>
    </thead>
    <tbody>
    <tr>
      <th>名前</th>
      <td th:text="*{student.fullName}">山田 太郎</td>
      <td><input type="text" th:field="*{student.fullName}" required/></td>
    </tr>
    <tr>
      <th>カナ</th>
      <td th:text="*{student.kanaName}">ヤマダ タロウ</td>
      <td><input type="text" th:field="*{student.kanaName}" required/></td>
    </tr>
    <tr>
      <th>ニックネーム</th>
      <td th:text="*{student.nickname}">たろちゃん</td>
      <td><input type="text" th:field="*{student.nickname}"/></td>
    </tr>
    <tr>
      <th>メールアドレス</th>
      <td th:text="*{student.email}">taro@example.com</td>
      <td><input type="email" th:field="*{student.email}" required/></td>
    </tr>
    <tr>
      <th>地域</th>
      <td th:text="*{student.region}">東京都 千代田区</td>
      <td><input type="text" th:field="*{student.region}"/></td>
    </tr>
    <tr>
      <th>年齢</th>
      <td th:text="*{student.age}">25</td>
      <td><input type="number" th:field="*{student.age}" min="0"/></td>
    </tr>
    <tr>
      <th>性別</th>
      <td th:text="*{student.sex}">男性</td>
      <td>
        <select th:field="*{student.sex}">
          <option value="">選択してください</option>
          <option value="男性">男性</option>
          <option value="女性">女性</option>
          <option value="その他">その他</option>
        </select>
      </td>
    </tr>
    <tr>
      <th>備考</th>
      <td th:text="*{student.remark}">特になし</td>
      <td><textarea th:field="*{student.remark}"></textarea></td>
    </tr>
    <tr>
      <th>キャンセル</th>
      <td th:text="*{student.deleted} ? 'キャンセル済み' : ''"></td>
      <td><input type="checkbox"
                 th:field="*{student.deleted}"/><small>チェックを入れるとキャンセルになります</small>
      </td>
    </tr>
    </tbody>
  </table>

  <h3>受講コース情報</h3>
  <table>
    <thead>
    <tr>
      <th>コース名</th>
      <th>開始日</th>
      <th>終了日</th>
      <th>修正コース名</th>
      <th>修正開始日</th>
      <th>修正終了日</th>
    </tr>
    </thead>
    <tbody>
    <tr th:each="course, stat : *{studentCourseList}">
      <input type="hidden" th:field="*{studentCourseList[__${stat.index}__].courseId}"/>
      <td th:text="${course.course}">Javaコース</td>
      <td th:text="${course.startDate}">2025-04-01</td>
      <td th:text="${course.endDate}">2025-06-30</td>
      <td>
        <select th:field="*{studentCourseList[__${stat.index}__].course}" required>
          <option value="Javaコース">Javaコース</option>
          <option value="AWSコース">AWSコース</option>
          <option value="Java Scriptコース">Java Scriptコース</option>
          <option value="AIコース">AIコース</option>
          <option value="英会話コース">英会話コース</option>
        </select>
      </td>
      <td>
        <input type="date" th:field="*{studentCourseList[__${stat.index}__].startDate}"/>
      </td>
      <td>
        <input type="date" th:field="*{studentCourseList[__${stat.index}__].endDate}"/>
      </td>
    </tr>
    </tbody>
  </table>

  <div>
    <button type="submit">更新</button>
  </div>
  <a th:href="@{'/student/' + ${studentDetail.student.publicId}}">戻る</a>
</form>
</body>
</html>
